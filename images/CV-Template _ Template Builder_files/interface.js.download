!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=52)}({52:function(module,exports,__webpack_require__){module.exports=__webpack_require__(53)},53:function(module,exports){i={newTemplate:function(cvId,cvType,templateId,templateData){window.print("method not implemented."),console.log(arguments)},showTemplatePreview:function(templateId,templateData,cvType){window.print("method not implemented")},showCVPreview:function(cvId,templateId,cvData,templateData){window.print("method not implemented")},buildCV:function(cvId,templateId,cvData,templateData){window.print("method not implemented")},completedTransaction:function(templateId,price){console.log("Transaction for template",templateId,"completed. price: ",price)},failedTransaction:function(templateId,price){console.warn("Transaction for template",templateId,"FAILED. price: ",price)},lang:{},language:"",token:"",serverTime:null,fonts:{},icons:{},defaults:{},basePath:"",authenticated:!1,exporting:!1,secondment:!1,cvTimestamp:void 0,preview:!0,cvScoreDate:-1,cvScoreEmail:"",userEmail:"",boughtAnyTemplate:!1,referredUsers:0,boughtProducts:[],subscriptions:[],user:{Name:"",Email:"",AcceptedPrivacyPolicy:null,AcceptedOverEighteen:null,AcceptedEmail:null,ReferralUrl:"",Created:null},refreshUserInformation:function(onSuccess,onFailure){i.ajax({url:"/"+i.language+"/user/current",method:"GET",success:function(data){i.user=data.user,onSuccess(data.user)},failure:onFailure})},updateUserInformation:function(data,onSuccess,onFailure){i.ajax({url:"/"+i.language+"/user/current",method:"PATCH",data:data,success:function(data){i.user=data.user,onSuccess(data.user)},failure:onFailure})},loadTemplateCSS:function(templateId){var fileName=i.exporting?"export.css":"build.css";$("#templatestyle").attr("href",i.basePath+"templates/"+templateId+"/"+fileName)},loadTemplateData:function(templateId,onSuccess,onFailure){i.ajax({url:"/"+i.language+"/builder/template/"+templateId,success:function(data){onSuccess(data.template)},failure:onFailure})},loadCVHTML:function(templateId,onSuccess){i._loadHtmlFile(templateId,"template",onSuccess)},loadLetterHTML:function(templateId,onSuccess){i._loadHtmlFile(templateId,"letter",onSuccess)},_loadHtmlFile:function(templateId,htmlFile,onSuccess){i.exporting?onSuccess():$("#template").load(i.basePath+"templates/"+templateId+"/assets/"+htmlFile+".html",function(){onSuccess(arguments[0])})},listCVs:function(onSuccess,onFailure){i.ajax({url:"/"+i.language+"/builder/cv",success:function(data){onSuccess(data.list)},failure:onFailure})},listUploadedPhotos:function(onSuccess,onFailure){i.ajax({method:"GET",url:"/"+i.language+"/builder/photo",success:function(data){onSuccess(data.files)},failure:onFailure})},storeCV:function(cvType,templateId,cvData,onSuccess,onFailure){var self=this;i.ajax({method:"PATCH",data:{Data:cvData,Type:cvType,Template:templateId,Timestamp:this.cvTimestamp},success:function(data){data.hasOwnProperty("Timestamp")&&(self.cvTimestamp=data.Timestamp),onSuccess.apply(self,arguments)},failure:onFailure})},exportCVUsingHtmlInput:function(htmlInput,onSuccess,onFailure){i.ajax({url:document.URL+"/exportUsingHtml",method:"POST",data:{content:htmlInput},success:function(data){window.location.href=data.url,onSuccess()},failure:onFailure})},createCVPreviewUsingHtmlInput:function(htmlInput,onSuccess,onFailure){i.ajax({url:document.URL+"/createPreviewUsingHtml",method:"POST",data:{content:htmlInput},success:onSuccess,failure:onFailure})},validateCVTimestamp:function(onSuccess,onFailure){i.ajax({method:"GET",data:{action:"getTimestamp"},success:function(data){data.Timestamp===this.cvTimestamp?onSuccess():onFailure(-1,data)},failure:onFailure})},storeCVHTML:function(html,onSuccess,onFailure){i.ajax({method:"PATCH",data:{Content:html},success:onSuccess,failure:onFailure})},duplicateCV:function(onSuccess,onFailure,optionalCvId){i.ajax({method:"PATCH",data:{Action:"duplicate"},url:void 0===optionalCvId?null:"/"+i.language+"/builder/cv/"+optionalCvId,success:onSuccess,failure:onFailure})},deleteCV:function(onSuccess,onFailure,optionalCvId){i.ajax({method:"DELETE",url:void 0===optionalCvId?null:"/"+i.language+"/builder/cv/"+optionalCvId,success:onSuccess,failure:onFailure})},login:function(username,password,onSuccess,onFailure){grecaptcha.ready(function(){grecaptcha.execute("6LfId-8ZAAAAABd0BhoDKw3z-MDAlgdjKhU1gC2R",{action:"submit"}).then(function(token){i.ajax({method:"POST",url:"/"+i.language+"/auth/login",data:{Email:username,password:password,recaptcha:token},success:function(data){i.authenticated=!0,onSuccess(data.user,data.targetUrl)},failure:onFailure})})})},logout:function(onSuccess,onFailure){i.ajax({url:"/"+i.language+"/auth/logout",success:function(data){i.authenticated=!1,onSuccess(data.user)},failure:onFailure})},register:function(username,password,name,onSuccess,onFailure){i.ajax({method:"POST",url:"/"+i.language+"/auth/user",data:{Email:username,password:password,Name:name},success:function(data){onSuccess(data.data)},failure:onFailure})},registerOnlyEmail:function(emailAddress,onSuccess,onFailure){i.ajax({method:"POST",url:"/"+i.language+"/auth/user",data:{Email:emailAddress},success:function(data){onSuccess(data.data)},failure:onFailure})},unregister:function(onSuccess,onFailure){i.ajax({method:"POST",url:"/"+i.language+"/auth/unregister",success:onSuccess,failure:onFailure})},exportCV:function(debug){console.warn("This method has been deprecated. Please use i.exportCVUsingHtmlInput instead.")},submitCouponCode:function(couponCode,onSuccess,onFailure){i.ajax({url:"/"+i.language+"/coupon/"+couponCode,success:onSuccess,failure:onFailure})},getBoughtProductsForEmail:function(email,onSuccess,onFailure){i.ajax({method:"POST",url:"/"+i.language+"/products/bought-hack",data:{email:email},success:function(data){onSuccess(data.products)},failure:onFailure})},getProductDetails:function(productId,applyDiscount,onSuccess,onFailure){var suffix=applyDiscount?"?applyDiscount=1":"";i.ajax({method:"GET",url:"/"+i.language+"/products/"+productId.replace("_","/")+suffix,success:onSuccess,failure:onFailure})},buyProductGetClientKey:function(productId,applyDiscount,recurring,method,onSuccess,onFailure){i.ajax({method:"POST",data:{method:method,fromUrl:window.location.href,action:"buy",applyDiscount:applyDiscount?"1":"0",recurring:recurring?"1":"0"},url:"/"+i.language+"/products/"+productId.replace("_","/")+"/transaction",success:onSuccess,failure:onFailure})},completeBrainTreeTransaction:function(productId,transactionId,payment_method_nonce,onSuccess,onFailure){i.ajax({method:"POST",data:{action:"complete",method:"braintree",transaction:transactionId,"payment-method-nonce":payment_method_nonce},url:"/"+i.language+"/products/"+productId.replace("_","/")+"/proceed-transaction",success:onSuccess,failure:onFailure})},forgottenPassword:function(email,onSuccess,onFailure){i.ajax({method:"POST",data:{Email:email},url:"/"+i.language+"/password/email",success:onSuccess,failure:onFailure})},sendSupportMessage:function(data,onSuccess,onFailure){i.ajax({method:"POST",data:data,url:"/"+i.language+"/contact",success:onSuccess,failure:onFailure})},submitCVScore:function(score,email,onSuccess,onFailure){i.ajax({method:"POST",data:{score:score,email:email},url:"/"+i.language+"/cv-score",success:function(data){onSuccess(data.url,data.boughtTemplate)},failure:onFailure})},submitPersonalitytest:function(data,onSuccess,onFailure){i.ajax({method:"POST",data:{test:data},url:"/"+i.language+"/personality-test/test",success:onSuccess,failure:onFailure})},setMailSubscription:function(subscriptionName,value,onSuccess,onFailure){i.ajax({method:"PATCH",data:{value:value},url:"/"+i.language+"/user/mail-subscriptions/"+subscriptionName,success:onSuccess,failure:onFailure})},cancelSubscription:function(subscriptionId,onSuccess,onFailure){i.ajax({method:"DELETE",url:"/"+i.language+"/account/subscription/"+subscriptionId,success:onSuccess,failure:onFailure})},subscribeForSendInBlue:function(list,email,name,onSuccess,onFailure){i.ajax({method:"POST",data:{name:name,email:email,list:list},url:"/"+i.language+"/mail/subscribe",success:onSuccess,failure:onFailure})},ajax:function(data){data.method=data.method?data.method:"GET",data.url=data.url?data.url:"",data.data=data.data?data.data:{},data.data._token=i.token,"GET"!==data.method&&(data.data=JSON.stringify(data.data),data.datatype=data.datatype?data.datatype:"json",data.dataType=data.dataType?data.dataType:"json",data.contentType=data.contentType?data.contentType:"application/json; charset=utf-8");var success=data.success?data.success:function(){},failure=data.failure?data.failure:function(){};data.success=function(data){data.success&&1==data.success?success.apply(i,[data]):failure.apply(i,[-1,{}])},data.failure=function(data){failure.apply(i,-1,data)},data.error=function(xhr,ajaxOptions,thrownError){var responseData=JSON.parse(xhr.responseText);failure.apply(i,[responseData.errorCode,responseData])},$.ajax(data)}},_initInterface()}});