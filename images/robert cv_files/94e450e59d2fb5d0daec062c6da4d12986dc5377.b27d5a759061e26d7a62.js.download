(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{9614:function(e,t,n){"use strict";n.d(t,"b",(function(){return S}));var r,i=n("nKUr"),a=n("cpVT"),c=n("xvhg"),o=n("vJKn"),s=n.n(o),u=n("rg98"),l=n("q1tI"),d=(n("RBan"),n("HsFW")),p=n.n(d),b=n("4zbl"),f=n.n(b),g=n("Qyje"),v=n.n(g),m=n("+j2L"),O=n("20a2"),j=n("uEW7"),w=n("FWZJ"),h=n("LHey"),y=n("VjgX"),_=n("br9w"),k=n("ERJc");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,f.a.v4();case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("failed to get user IP");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();I();var E=function(){var e=Object(l.useContext)(h.c),t=e.host,n=e.deviceInfo,i=e.screenResolution,a=Object(l.useContext)(j.b),o=Object(_.b)().locale,d=Object(k.b)(),b=d.track,f=d.reset,g=d.identify,x=d.alias,E=d.people,S=Object(O.useRouter)().asPath,D=function(){var e=v.a.parse(S),t="direct";Object.entries(e).forEach((function(e){var n=Object(c.a)(e,2),r=n[0],i=n[1];r.includes("origin")&&(t=i)}));var r=i.width,a=i.height;return{origin:t,screenResolution:"".concat(r,"x").concat(a),website_language:o,deviceType:n.type,deviceOS:n.OS,deviceBrand:n.brand,deviceModel:n.model}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E.set(P(P({},e),D()))},N=function(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(e,P(P({},D()),i)),y.c.includes(t)&&null!==a&&void 0!==a&&null!==(n=a.currentUser)&&void 0!==n&&n.email&&null!==(r=window.sendinblue)&&void 0!==r&&r.track&&window.sendinblue.track(e,P(P({},D()),i))};return{trackUserIdentity:function(){var e=Object(u.a)(s.a.mark((function e(n){var i,a,c,o,u,l,d,b,f,g,v,O,j,h,_,k,x,E,S,D=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,a=n.firstName,c=n.lastName,o=n.initialDevice,u=n.email,l=n.createdAt,d=n.role,b=n.primaryLanguage,f=n.gender,g=!(D.length>1&&void 0!==D[1])||D[1],v=D.length>2&&void 0!==D[2]?D[2]:{},O=D.length>3&&void 0!==D[3]&&D[3],r){e.next=7;break}return e.next=7,I();case 7:j=P({},v),O?j.firstIP=r:j.lastIP=r,g&&(j=P(P({},j),{},{email:u,email_provider:Object(m.e)(u)})),(h=p.a.getActiveVariant("website_resume_experiment"))&&(j.website_resume_experiment=h),_=localStorage.getItem("resumedone:campaign-origin"),k=localStorage.getItem("resumedone:campaign-campaign"),x=localStorage.getItem("resumedone:campaign-targetJob"),null!=_&&(j.origin=_),null!=k&&(j.campaign=k),null!=x&&(j.targetJob=x),f&&(j.gender=f),j.initialDevice=o,b&&(j.primaryLanguage=b),j.domain=t,i&&u&&(E=P(P({},j),{},{email:u,email_provider:Object(m.e)(u)}),a&&(E.firstName=a),c&&(E.lastName=c),delete E.createdAt,l&&(E.created_at=Math.round(new Date(l).getTime()/1e3)),d&&(E.is_subscribed=Object(w.v)(d)),y.c.includes(t)?(null!==(S=window.sendinblue)&&void 0!==S&&S.identify&&window.sendinblue.identify(u),Object(w.E)(P({id:i},E))):Object(w.D)(i,E)),J(j);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),trackEvent:N,resetTracking:function(){f()},sessionStartHandler:function(){if(!sessionStorage.getItem("session_started_check")){try{N("session_started",{first_session_started:!0})}catch(e){console.log("Error",e)}return sessionStorage.setItem("session_started_check",!0)}},setPeople:J,trackAlias:function(e){x(e)},identify:function(){g()}}},S=function(e){function t(t){var n=E();return Object(i.jsx)(e,P(P({},n),t))}return t.getInitialProps=function(){var t=Object(u.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.getInitialProps,!t.t0){t.next=5;break}return t.next=4,e.getInitialProps(n);case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",P({},r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t};t.a=E}}]);